(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"0c78":function(t,e,a){"use strict";a("3984")},"32f0":function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body-common",attrs:{id:"users"}},[a("div",{staticClass:"remind"},[a("h4",[t._v("账号管理")]),a("p",[t._v("该数据表为账号信息，包含各类用户账号信息")]),a("p",[t._v(" 若有未录入账号， "),a("span",{staticClass:"add",on:{click:function(e){t.showAdd=!0}}},[t._v("点击这里进行添加")])])]),a("div",{staticClass:"header"},[a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{total:t.pagination.total,"page-size":t.pagination.limit,"page-sizes":[2,4,6],"current-page":t.pagination.page,"pager-count":5,layout:"prev, pager, next,jumper"},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.pagination,"page",e)},"update:current-page":function(e){return t.$set(t.pagination,"page",e)}}})],1),a("div",{staticClass:"search"},[a("label",[t._v(" Search: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"输入您要搜索的人员"},domProps:{value:t.search},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchUser.apply(null,arguments)},input:function(e){e.target.composing||(t.search=e.target.value)}}})])])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"header-row-style":{backgroundColor:"#ccc"},"padding:8px":"","empty-text":t.loading?"loading...":"暂无数据"}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name||"-"))]}}])}),a("el-table-column",{attrs:{prop:"address",label:"住址"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0==e.row.address?"A区":1==e.row.address?"B区":2==e.row.address?"C区":3==e.row.address?"D区":"-")+" ")]}}])}),a("el-table-column",{attrs:{prop:"phone",label:"电话"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.phone||"-"))]}}])}),a("el-table-column",{attrs:{prop:"authority",label:"权限"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0==e.row.authority?"普通用户":"管理员")+" ")]}}])}),a("el-table-column",{attrs:{prop:"village",label:"管理区"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0==e.row.village?"A区":1==e.row.village?"B区":2==e.row.village?"C区":3==e.row.village?"D区":"-")+" ")]}}])}),a("el-table-column",{attrs:{prop:"control",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"iconfont icon-xiugai",attrs:{title:"修改"},on:{click:function(a){return t.updateMessage(e.row)}}}),a("i",{staticClass:"iconfont icon-shanchu",attrs:{title:"删除"},on:{click:function(a){return t.deleteUser(e.row)}}})]}}])})],1),a("Add",{attrs:{show:t.showAdd,user:t.user},on:{"update:show":function(e){t.showAdd=e},init:t.init}}),a("Delete",{attrs:{show:t.showDelete,user:t.user},on:{"update:show":function(e){t.showDelete=e},init:t.init}})],1)},i=[],o=a("ade3"),r=(a("136d"),a("973c"),a("ecdf")),l=a.n(r),c=(a("75b1"),a("ad41")),u=a.n(c),d=(a("85aa"),a("101e")),p=a.n(d),h=(a("b0c0"),a("ac1f"),a("841c"),a("881f")),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"dialog-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"bg"},[a("div",{staticClass:"delete-user"},[a("div",{staticClass:"head"},[t._v("温馨提示")]),a("div",{staticClass:"content"},[a("div",{staticClass:"text"},[t._v("您确定要将"+t._s(t.user.name)+"从列表中删除吗？")])]),a("div",{staticClass:"button-list"},[a("ep-button",{attrs:{plain:""},nativeOn:{click:function(e){return t.hideDialog.apply(null,arguments)}}},[t._v("取消")]),a("ep-button",{attrs:{disabled:t.disabled},nativeOn:{click:function(e){return t.comfirmm.apply(null,arguments)}}},[t._v("确定")])],1)])])])},g=[],m=a("95c8"),v={props:{show:{type:Boolean,require:!0},user:{type:Object,require:!0}},data:function(){return{disabled:!1}},methods:{hideDialog:function(){this.$emit("update:show",!1)},comfirmm:function(){var t=this;this.disabled=!0,Object(m["g"])({account:this.user.account}).then((function(e){t.$toast(e.message),t.$emit("init"),t.$emit("update:show",!1),t.disabled=!1}),(function(){t.disabled=!1}))}}},w=v,b=(a("0c78"),a("2877")),_=Object(b["a"])(w,f,g,!1,null,"4603029e",null),y=_.exports,C={name:"users",components:(n={Add:h["a"],Delete:y},Object(o["a"])(n,p.a.name,p.a),Object(o["a"])(n,u.a.name,u.a),Object(o["a"])(n,l.a.name,l.a),n),data:function(){return{loading:!0,showAdd:!1,showDelete:!1,user:{},search:"",searchTest:"",list:[],pagination:{total:0,page:1,limit:10}}},watch:{showAdd:function(t){t||(this.user={})},showDelete:function(t){t||(this.user={})}},mounted:function(){this.init()},methods:{init:function(){var t=this,e={page:this.pagination.page,limit:this.pagination.limit};this.searchTest&&(e.search=this.searchTest),this.loading=!0,Object(m["l"])(e).then((function(e){t.list=e.data.list,t.total=e.data.total,t.loading=!1}),(function(){t.loading=!1}))},searchUser:function(){this.pagination.page=1,this.total=0,this.searchTest=this.search,this.init()},handleCurrentChange:function(){this.list=[],this.init()},updateMessage:function(t){this.user=t,this.showAdd=!0},deleteUser:function(t){this.user=t,this.showDelete=!0}}},k=C,x=(a("f96e"),Object(b["a"])(k,s,i,!1,null,"2e9e537e",null));e["default"]=x.exports},3984:function(t,e,a){},c379:function(t,e,a){},f96e:function(t,e,a){"use strict";a("c379")}}]);
//# sourceMappingURL=21.88b986f8.js.map